<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Klasser og objekter</title>
</head>

<body>
	<script>

		// Definisjon av en base klasse
		class Figur2D{
			constructor(areal, omkrets) {
				this._areal = areal
				this._omkrets = omkrets
				this._desimaler = 2
			}

			_format(verdi) {
				let potens = Math.pow(10, this._desimaler);
				return String(Math.round(verdi * potens) / potens);
			}

			formatAreal() {
				return this._format(this._areal);
			}

			formatOmkrets() {
				return this._format(this._omkrets);
			}

			get areal(){
				return this._areal;
			}

			get omkrets(){
				return this._omkrets;
			}
		}

		class Kvadrat extends Figur2D{
			constructor(side){
				super(side*side, 4*side);
				this._side = side;
			}

			get side(){
				return this._side;
			}

			set side(verdi){
				if (verdi < 0){
					return;
				}
				this._side = verdi;
				this._areal = this._side*this._side
				this._omkrets = 4*this._side;
			}
		}

		class Sirkel extends Figur2D{
			constructor(radius){
				super(radius*radius*Math.PI, 2*side*Math.PI);
				this._radius = radius;
			}

			get radius(){
				return this._radius;
			}

			set side(verdi){
				if (verdi < 0){
					return;
				}
				this._radius = verdi;
				this._areal = this._radius*this._radius*Math.PI
				this._omkrets = 2*this._radius*Math.PI;
			}
		}

		class Rektangel extends Figur2D{
			constructor(lengde, bredde){
				super(lengde*bredde, 2*(lengde+bredde));
				this._lengde = lengde;
				this._bredde = bredde;
			}

			get lengde(){
				return this._lengde;
			}

			set lengde(verdi){
				if (verdi < 0){
					return;
				}
				this._lengde = verdi;
				this._areal = this._lengde*this._bredde
				this._omkrets = 2*(this._lengde+this._bredde);
			}

			get bredde(){
				return this._bredde;
			}

			set bredde(verdi){
				if (verdi < 0){
					return;
				}
				this._bredde = verdi;
				this._areal = this._lengde*this._bredde
				this._omkrets = 2*(this._lengde+this._bredde);
			}
		}

		let kvadrat = new Kvadrat(2);
		let rektangel = new Rektangel(4, 5);
		// let sirkel = new Sirkel(3);

		console.log("Areal og omkrets av kvadrat:", kvadrat.areal, kvadrat.omkrets)
		console.log("Areal og omkrets av rektangel:", rektangel.areal, rektangel.omkrets)
		//console.log("Areal og omkrets av sirkel:", sirkel.formatAreal(), sirkel.formatOmkrets())

		// Endrer siden til kvadratet
		kvadrat.side = 5;
		console.log("Areal og omkrets etter endring av kvadrat:", kvadrat.areal, kvadrat.omkrets)
	</script>
</body>
</html>